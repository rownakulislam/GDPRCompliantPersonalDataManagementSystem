{"ast":null,"code":"var _jsxFileName = \"C:\\\\shibu2\\\\Ethereum-DappV2\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport IssueCertificateComponent from './Issue';\nimport ViewCertificateComponent from './View';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet Redirect = false; // Set to true after redirection\n\n//peer identity: 12D3KooWAidW1MSzzaQc4VbjB4V3yg3XYKBQ6pHVNr4eS4XPsGpt\n// ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin '[\"http://localhost:3000\"]'\n// ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods '[\"PUT\", \"POST\", \"GET\"]'\n\nfunction App() {\n  _s();\n  const [studentAddress, setStudentAddress] = useState('');\n  const pathname = useLocation().pathname; // Use the useLocation hook inside the App function\n\n  // Update the flag when visiting the `/view` route\n  useEffect(() => {\n    if (pathname === '/view') {\n      Redirect = false;\n    } else if (pathname === '/') {\n      Redirect = true;\n    }\n  }, [pathname]);\n\n  // Handle issue certificate and redirect to view certificate page\n  const handleIssueCertificate = async () => {\n    try {\n      await IssueCertificateComponent(); // Issue the certificate\n      Router.push('/view'); // Redirect to the view certificate page\n      Redirect = true; // Update the flag after redirection\n    } catch (error) {\n      console.error('Error issuing certificate:', error);\n      alert('Failed to issue certificate');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(IssueCertificateComponent, {\n          issueCertificateComponentAndRedirect: handleIssueCertificate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/view\",\n        element: /*#__PURE__*/_jsxDEV(ViewCertificateComponent, {\n          studentAddress: studentAddress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 38\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), Redirect === false && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/view\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginBottom: 10\n          },\n          children: \"Go to View\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), Redirect === true && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginBottom: 10\n          },\n          children: \"Go to Issuance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"31Ao1ogsvwwlVa1SvkjwiuGgqO8=\", false, function () {\n  return [useLocation];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BrowserRouter","Router","Route","Routes","Link","IssueCertificateComponent","ViewCertificateComponent","useLocation","jsxDEV","_jsxDEV","Redirect","App","_s","studentAddress","setStudentAddress","pathname","handleIssueCertificate","push","error","console","alert","style","display","flexDirection","alignItems","children","exact","path","element","issueCertificateComponentAndRedirect","fileName","_jsxFileName","lineNumber","columnNumber","justifyContent","to","marginBottom","_c","$RefreshReg$"],"sources":["C:/shibu2/Ethereum-DappV2/src/App.js"],"sourcesContent":["import React, { useState, useEffect,useRef } from 'react';\r\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\r\nimport IssueCertificateComponent from './Issue';\r\n\r\nimport ViewCertificateComponent from './View';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n\r\nlet Redirect = false; // Set to true after redirection\r\n\r\n//peer identity: 12D3KooWAidW1MSzzaQc4VbjB4V3yg3XYKBQ6pHVNr4eS4XPsGpt\r\n// ipfs config --json API.HTTPHeaders.Access-Control-Allow-Origin '[\"http://localhost:3000\"]'\r\n// ipfs config --json API.HTTPHeaders.Access-Control-Allow-Methods '[\"PUT\", \"POST\", \"GET\"]'\r\n\r\nfunction App() {\r\n  const [studentAddress, setStudentAddress] = useState('');\r\n \r\n  const pathname = useLocation().pathname; // Use the useLocation hook inside the App function\r\n\r\n  // Update the flag when visiting the `/view` route\r\n  useEffect(() => {\r\n    if (pathname === '/view') {\r\n      Redirect = false;\r\n    } else if (pathname === '/') {\r\n      Redirect = true;\r\n    }\r\n  }, [pathname]);\r\n\r\n  // Handle issue certificate and redirect to view certificate page\r\n  const handleIssueCertificate = async () => {\r\n    try {\r\n      await IssueCertificateComponent(); // Issue the certificate\r\n      Router.push('/view'); // Redirect to the view certificate page\r\n      Redirect = true; // Update the flag after redirection\r\n    } catch (error) {\r\n      console.error('Error issuing certificate:', error);\r\n      alert('Failed to issue certificate');\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n\r\n    }}>\r\n      <Routes>\r\n        <Route exact path=\"/\" element={<IssueCertificateComponent issueCertificateComponentAndRedirect={handleIssueCertificate} />} />\r\n        <Route path=\"/view\" element={<ViewCertificateComponent studentAddress={studentAddress}  />} />\r\n\r\n\r\n      </Routes>\r\n\r\n\r\n      {/* Conditional rendering based on the flag */}\r\n      {Redirect === false &&\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <Link to=\"/view\">\r\n            <button style={{marginBottom:10}}>Go to View</button>\r\n          </Link>\r\n        </div>\r\n      }\r\n\r\n      {Redirect === true &&\r\n        <div style={{\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}>\r\n          <Link to=\"/\">\r\n            <button style={{marginBottom:10}}>Go to Issuance</button>\r\n          </Link>\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}