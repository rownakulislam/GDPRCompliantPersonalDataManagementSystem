{"ast":null,"code":"var _jsxFileName = \"C:\\\\thesis_project_start\\\\Ethereum-DappV2\\\\src\\\\View.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ethers } from 'ethers';\nimport { create } from 'ipfs-http-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst client = create({\n  host: '127.0.0.1',\n  port: 5001,\n  protocol: 'http'\n});\nfunction ViewComponent() {\n  _s();\n  const [userAddress, setUserAddress] = useState('');\n  const [fileUrl, setFileUrl] = useState(null);\n  const CONTRACT_ADDRESS = '0xaCaDf73c39e2E916F91CfF971E643f69C1811C6f';\n  const PRIVATE_KEY = 'ffce87da659a88c5ad63d447fff3be4308b00845bf002861ba91ad0ce5994603';\n  const API_KEY = 'rdO0i4o--THH81mB5V3Cb9SE1UiwCtrh';\n  const network = 'maticmum';\n  const provider = new ethers.providers.AlchemyProvider(network, API_KEY);\n  const signer = new ethers.Wallet(PRIVATE_KEY, provider);\n  const contractABI = require('./abis/Temp.json');\n  const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, signer);\n  async function fetchFileFromIPFS() {\n    try {\n      const userData = await contract.getUserData(userAddress);\n      const stream = client.cat(userData.fileCid);\n      let data = [];\n      for await (const chunk of stream) {\n        data.push(chunk);\n      }\n      const blob = new Blob(data, {\n        type: 'application/octet-stream'\n      });\n      const url = URL.createObjectURL(blob);\n      setFileUrl(url);\n    } catch (error) {\n      console.error('Error fetching file from IPFS:', error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Your Address\",\n      onChange: e => setUserAddress(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchFileFromIPFS,\n      children: \"Fetch File from IPFS\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), fileUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n      href: fileUrl,\n      download: true,\n      children: \"Download File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewComponent, \"SJJNoQLzCzdFs5ZuHRm6OBf6/gQ=\");\n_c = ViewComponent;\nexport default ViewComponent;\nvar _c;\n$RefreshReg$(_c, \"ViewComponent\");","map":{"version":3,"names":["React","useState","ethers","create","jsxDEV","_jsxDEV","client","host","port","protocol","ViewComponent","_s","userAddress","setUserAddress","fileUrl","setFileUrl","CONTRACT_ADDRESS","PRIVATE_KEY","API_KEY","network","provider","providers","AlchemyProvider","signer","Wallet","contractABI","require","contract","Contract","fetchFileFromIPFS","userData","getUserData","stream","cat","fileCid","data","chunk","push","blob","Blob","type","url","URL","createObjectURL","error","console","children","placeholder","onChange","e","target","value","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","download","_c","$RefreshReg$"],"sources":["C:/thesis_project_start/Ethereum-DappV2/src/View.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ethers } from 'ethers';\r\nimport { create } from 'ipfs-http-client';\r\n\r\nconst client = create({\r\n  host: '127.0.0.1',\r\n  port: 5001,\r\n  protocol: 'http',\r\n});\r\n\r\nfunction ViewComponent() {\r\n  const [userAddress, setUserAddress] = useState('');\r\n  const [fileUrl, setFileUrl] = useState(null);\r\n\r\n  const CONTRACT_ADDRESS = '0xaCaDf73c39e2E916F91CfF971E643f69C1811C6f';\r\n  const PRIVATE_KEY = 'ffce87da659a88c5ad63d447fff3be4308b00845bf002861ba91ad0ce5994603';\r\n  const API_KEY = 'rdO0i4o--THH81mB5V3Cb9SE1UiwCtrh';\r\n\r\n  const network = 'maticmum';\r\n  const provider = new ethers.providers.AlchemyProvider(network, API_KEY);\r\n  const signer = new ethers.Wallet(PRIVATE_KEY, provider);\r\n\r\n  const contractABI = require('./abis/Temp.json');\r\n  const contract = new ethers.Contract(CONTRACT_ADDRESS, contractABI, signer);\r\n\r\n  async function fetchFileFromIPFS() {\r\n    try {\r\n      const userData = await contract.getUserData(userAddress);\r\n      const stream = client.cat(userData.fileCid);\r\n      let data = [];\r\n\r\n      for await (const chunk of stream) {\r\n        data.push(chunk);\r\n      }\r\n\r\n      const blob = new Blob(data, { type: 'application/octet-stream' });\r\n      const url = URL.createObjectURL(blob);\r\n      setFileUrl(url);\r\n    } catch (error) {\r\n      console.error('Error fetching file from IPFS:', error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Your Address\"\r\n        onChange={(e) => setUserAddress(e.target.value)}\r\n      />\r\n      <button onClick={fetchFileFromIPFS}>Fetch File from IPFS</button>\r\n      {fileUrl && <a href={fileUrl} download>Download File</a>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ViewComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,QAAQ,QAAQ;AAC/B,SAASC,MAAM,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1C,MAAMC,MAAM,GAAGH,MAAM,CAAC;EACpBI,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,IAAI;EACVC,QAAQ,EAAE;AACZ,CAAC,CAAC;AAEF,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACvB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5C,MAAMe,gBAAgB,GAAG,4CAA4C;EACrE,MAAMC,WAAW,GAAG,kEAAkE;EACtF,MAAMC,OAAO,GAAG,kCAAkC;EAElD,MAAMC,OAAO,GAAG,UAAU;EAC1B,MAAMC,QAAQ,GAAG,IAAIlB,MAAM,CAACmB,SAAS,CAACC,eAAe,CAACH,OAAO,EAAED,OAAO,CAAC;EACvE,MAAMK,MAAM,GAAG,IAAIrB,MAAM,CAACsB,MAAM,CAACP,WAAW,EAAEG,QAAQ,CAAC;EAEvD,MAAMK,WAAW,GAAGC,OAAO,CAAC,kBAAkB,CAAC;EAC/C,MAAMC,QAAQ,GAAG,IAAIzB,MAAM,CAAC0B,QAAQ,CAACZ,gBAAgB,EAAES,WAAW,EAAEF,MAAM,CAAC;EAE3E,eAAeM,iBAAiBA,CAAA,EAAG;IACjC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMH,QAAQ,CAACI,WAAW,CAACnB,WAAW,CAAC;MACxD,MAAMoB,MAAM,GAAG1B,MAAM,CAAC2B,GAAG,CAACH,QAAQ,CAACI,OAAO,CAAC;MAC3C,IAAIC,IAAI,GAAG,EAAE;MAEb,WAAW,MAAMC,KAAK,IAAIJ,MAAM,EAAE;QAChCG,IAAI,CAACE,IAAI,CAACD,KAAK,CAAC;MAClB;MAEA,MAAME,IAAI,GAAG,IAAIC,IAAI,CAACJ,IAAI,EAAE;QAAEK,IAAI,EAAE;MAA2B,CAAC,CAAC;MACjE,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;MACrCvB,UAAU,CAAC0B,GAAG,CAAC;IACjB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACxD;EACF;EAEA,oBACEvC,OAAA;IAAAyC,QAAA,gBACEzC,OAAA;MACEmC,IAAI,EAAC,MAAM;MACXO,WAAW,EAAC,cAAc;MAC1BC,QAAQ,EAAGC,CAAC,IAAKpC,cAAc,CAACoC,CAAC,CAACC,MAAM,CAACC,KAAK;IAAE;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC,eACFlD,OAAA;MAAQmD,OAAO,EAAE3B,iBAAkB;MAAAiB,QAAA,EAAC;IAAoB;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAChEzC,OAAO,iBAAIT,OAAA;MAAGoD,IAAI,EAAE3C,OAAQ;MAAC4C,QAAQ;MAAAZ,QAAA,EAAC;IAAa;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACrD,CAAC;AAEV;AAAC5C,EAAA,CA5CQD,aAAa;AAAAiD,EAAA,GAAbjD,aAAa;AA8CtB,eAAeA,aAAa;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}